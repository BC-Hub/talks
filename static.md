% Talk Notes - Static is the New Dynamic



# Dynamic Site Generators

**The Biggies** (PHP Rules!)

- WordPress
- Drupal
- Joomla

On your live production site requires

- database (e.g. mysql)
- application server (e.g. mod_php)
- web server (e.g. apache)



# Static Site Generators

On your live prodcution site requires

- web server (e.g. apache) only

- NO database needed
- NO application server needed

Note: You can host your site on Amazon S3 (Simple Storage Service).



# Static is the New Dynamic - Why Static?

- Fast, Faster, Fastest

- Simple, Simpler, Simplest

- Pretty, Prettier, Prettiest
    - e.g. designer nirvana - do-it-yourself - full control over your design; use Bootstrap, Material, or what not.

Bonus: Secure - invite all the hackers - basically unbreakable!

There are only static files on your server.
If an attacker hacks your server, there's "just" some "temporary" data loss.
To recover
- Regenerate your site on your local machine.
- Upload it again to the server or shutdown the old "hacked" server and use a new server
  and you're back in action.



# Meet the Obama campaign's $250 million fundraising platform

![](i/obama-jekyll.png)

The numbers

- 6 month life span
- $250 million dollars, 4,276,463 donations
- 81,548,259 pageviews, 17,807,917 unique visitors
- 60% faster time to paint than previous platform
- 240 a/b tests, 49% increase in donation conversion rate
- 1,101 frontend deploys
- 4,000 lines of JavaScript
- 23% of traffic is mobile (including tablet)


# Meet the Obama campaign's $250 million fundraising platform (Cont.)

The web stack

- Static HTML pages generated by Jekyll
- Served by Akamai CDN, origin hosted on Amazon S3
- Version control with GitHub
- Conversion optimization with Optimizely
- LESS for CSS preprocessor, JavaScript compiled by CodeKit
- Redundant, REST payment processor

(Source:
[Kyle Rush, Nov 2012](http://kylerush.net/blog/meet-the-obama-campaigns-250-million-fundraising-platform/))



# Static Site Generators Directories

- [staticgen.com](http://www.staticgen.com)
- [staticsitegenerators.net](http://staticsitegenerators.net)

[add screenshots]



# Static Site Generators - The Biggies

**Ruby**

- Jekyll
- Middleman
- Nanoc

**Python**

- Nikola
- Pelican
- Cactus
- Hyde

**JavaScript**

- Hexo
- Metalsmith
- Harp
- Docpad


**And Many More**

- Hugo (Go)
- Hakyll (Haskell)



# Let a Thousand Static Site Generators Bloom in Ruby

- { :awestruct }   - a static site-baking tool   @ [`awestruct.org`](http://awestruct.org) [(Code)](https://github.com/awestruct)
- Bonsai   - a tiny static web site generator   @[`tinytree.info`](http://tinytree.info) [(Code)](https://github.com/benschwarz/bonsai)
- Brochure
- Frank   - a static site non-framework    @ [(Code)](https://github.com/blahed/frank)
- Hobix   - commandline blogging & static pages & ruby   @ [`hobix.github.io/hobix`](http://hobix.github.io/hobix)   [(Code)](https://github.com/hobix/hobix)
- Middleman
- Nanoc
- Ruhoh
- Stasis
- Staticmatic
- Toto
- Webgen
- Webby
- Zenweb
 
And many more.



#  Build Your Own Static Site Generator in Ruby in 5 Minutes

Nostaliga - Anyone remember those "Build Your Own Blog in Ruby on Rails in 5 Minutes" live demos?

~~~
require 'find'
require 'kramdown'

# 1) make an out directory

SITE_PATH = './_site'
Dir.mkdir( SITE_PATH ) unless File.exist?( SITE_PATH )

# 2) add a markdown converter helper method

def markdown( text )
  Kramdown::Document.new( text ).to_html
end

# 3) loop over files and generate hypertext (.html) from markdown (.md)

Find.find('.') do |path|
  if File.extname(path) == '.md'              # e.g. ./index.md => .md
    basename = File.basename(path, '.md')     # e.g. ./index.md => index

    File.open( "#{SITE_PATH}/#{basename}.html", 'w') do |file|
      file.write markdown( File.read( path ) )
    end
  end
end
~~~

Many more ways. Example:

- [Using Rake to Generate a Blog](http://patshaughnessy.net/2015/1/8/using-rake-to-generate-a-blog) by Pat Shaughnessy; January 2015 




# Static is the New Dynamic - Jekyll is the New Ruby Killer App

Rails =>  24_900+ Stars/9_700+ Forks

                     |                         |
-------------------- | ----------------------- |-------------
Jekyll               | => 18_500+ Stars        | 3_800+ Forks
Octopress (2.0+3.0)  | =>  8_700+ Stars (+400) | 3_100+ Forks
Jekyll Bootstrap     | =>  2_400+ Stars        | 1_400+ Forks
Jekyll Now           | =>    900+ Stars        | 3_000+ Forks

Content is king. Growing faster. More Jekyll Themes

                     |                         |
-------------------- | ----------------------- |-----------
Jekyll Incorporated  | =>  800+ Stars          | 200+ Forks
Poole                | => 1000+ Stars          | 300+ Forks
Hyde                 | =>  800+ Stars          | 400+ Forks
Lanyon               | =>  700+ Stars          | 400+ Forks
Minimal Mistakes     | =>  400+ Stars          | 900+ Forks



# Jekyll Getting Started

## Method 1 -  Fork GitHub Jekyll Theme Repo

- Step 1: Fork a GitHub Jekyll Theme Repo e.g. `jekyll-minimal-theme`
- Step 2: Change the repo name to `<yourname>.github.io`
- Step 3: Change the Jekyll settings in `_config.yml` e.g. `site.url`

That's it. Edit your first post in the `_posts` folder.


## Method 2 -  "Hacker-Style" - Use the Command-Line

~~~
$ jekyll new mysite
$ cd mysite
$ jekyll serve

# => Now browse to http://localhost:400
~~~



# Jekyll - Beyond the Basics - Collections

(e.g. new post types e.g. books, albums, links, etc.)


# Jekyll - Beyond the Basics - Data

- Data in YAML, JSON, CSV



# Dynamic Examples  -  YouTube Videos

Add a YouTube video; use the video tag.



# Dynamic Examples  - Comments, Comments, Comments

Add comments using JavaScript-only service
(Disqus, Facebook, etc.)


# Dynamic Example   - Brute Force Hammer Method

Re-generate and re-deploy your site
every minute (or when pinged with web hook etc.)


# Jekyll Goodies -  HTML Proofer



# Jekyll Goodies - GitHub.js, Prose.io

Write and save your posts in your browser with "distraction-free"
simple editor like Prose.io - a content editor for GitHub, for example.
 
How does it work?

GitHub offers an HTTP JSON API; using the GitHub.js machinery lets you
build your own single-page web app in JavaScript only - no server required
other than GitHub itself ;-).



# Jekyll Goodies - `jekyll-planet`

Subscribe to web feeds and (auto-)save the latest posts
in your Jekyll `_posts` folder.

Why?! Lets others use whatever blog (or content managment system) they like - you don't care -
to pull in the posts and get the stories added to your site
all you need is a ye good ol' web feed.



# Jekyll Goodies - WordPress Export Plugin

- WordPress Jekyll Export Plugin

One Click - gets you a zip w/ ready-to-use static Jekyll site

Why?! Best of both worlds - use all the WordPress tools
plus get a fast and simple static site for live production.




# GitHub Pages

What's GitHub Pages?


Milestones




# GitHub Pages Tip - Make Your `gh_pages` Branch the Default; Delete `master` Branch






# Octopress 3.0 Upcoming

### "Classic" Octopress

Basically a pre-configured Jekyll site w/ a theme, helpers, build scripts and more.
"packaged" as ready-to-fork-and-use git repo. To get started use:
  
$ git clone octopress

and than start changing the configuration settings and so on.

What's wrong with that?!

- Not-so-easy to update.
- Not-so-easy to extend and configure.


### "Modern" Octopress (Released February 2015)

Modul-mania. Now almost everything is a gem
(more than 20+ gems e.g. `octopress-videotag`, `octopress-unpublish`, `octopress-deploy`, and so on)
plus a new command line tool (that is, `octopress`). To get started, use:

$ gem install octopress
$ octopress new

Why?!

- Easier to update.
- Easier to extend and configure (use what you need; no big all-in-one git repo hairball -
instead many small gems that work with "plain vanilla" jekyll).

**There will no longer be a division between Octopress and Jekyll.**



#  Thank You - Questions? Comments? 

Check the Planet Jekyll incl. Jekyll Theme of the Month Series,
Jekyll Snippets (Tips 'n' Tricks), Jekyll Quick Reference (Cheat Sheet),
Jekyll Minimial Theme and more.


